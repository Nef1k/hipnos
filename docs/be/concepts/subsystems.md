# Подсистемы

Подсистемы - это сервисы, в которых реализован определенный набор методов. Пока что среди них следующие:
* `reset()` - очистить соответствующие таблицы и заполнить их стартовыми данными
* `prune()` - очистить соответствующие таблицы
* `initialize()` - заполнить соответствующие таблицы данными инициализации
  (эти данные обычно хранятся в be/game_data/init_data)
  
## Создание подсистемы

Прежде всего надо понять, что подсистема - это просто сервис, который реализует определённый интерфейс.
То есть, создание подсистемы почти такое же, как и создание Сервиса. Дополнительно нужно сделать следующее:
* Наследоваться не от `BaseService`, а от `BaseSubsystem`
* Реализовать метод `BaseSubsystem.prune()`, который должен очищать данные
* Реализовать метод `BaseSubsystem.initialize()`, который должен инициализировать подсистему в игровое состояние

Пример подсистемы:
```python
class MemoryService(BaseSubsystem):
    def __init__(self):
        # Initialize subsystem

    def prune(self):
        Memory.objects.all().delete()
        MemoryType.objects.all().delete()

    def initialize(self):
        self._initialize_memory_types(memory_types)
        self._initialize_memories(memory_index, memory_types)
    
    ...
```

Инициализация и использование подсистемы ничем принципиально не отличается от случая с сервисом.
